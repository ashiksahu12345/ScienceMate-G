{% extends "portal/base.html" %}

{% block content %}

<div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-3">
    <div>
        <h3 class="section-title mb-1">Welcome to ScienceMate</h3>
        <p class="text-muted mb-0">
            Choose a subject ‚Üí pick a topic ‚Üí use interactive formula tools üîç
        </p>
    </div>
    <div class="mt-3 mt-md-0">
        <a href="{% url 'chatbot' %}" class="btn btn-primary btn-sm me-2">
            <i class="bi bi-robot me-1"></i> Doubt Chatbot
        </a>
        <a href="{% url 'upload_question' %}" class="btn btn-outline-secondary btn-sm">
            <i class="bi bi-cloud-upload me-1"></i> Upload Question
        </a>
    </div>
</div>

<div class="section-divider"></div>

<!-- SUBJECT TABS WITH ICONS -->
<div class="subject-tabs mb-2">
    <!-- Physics -->
    <a href="?subject=physics"
       class="btn-subject physics{% if selected_subject == 'physics' %} btn-subject-active{% endif %}">
        <span class="subject-icon">
            <i class="bi bi-lightning-charge-fill"></i>
        </span>
        <span>Physics</span>
    </a>

    <!-- Maths -->
    <a href="?subject=maths"
       class="btn-subject maths{% if selected_subject == 'maths' %} btn-subject-active{% endif %}">
        <span class="subject-icon">
            <i class="bi bi-calculator"></i>
        </span>
        <span>Mathematics</span>
    </a>

    <!-- Chemistry -->
    <a href="?subject=chemistry"
       class="btn-subject chemistry{% if selected_subject == 'chemistry' %} btn-subject-active{% endif %}">
        <span class="subject-icon">
            <i class="bi bi-beaker"></i>
        </span>
        <span>Chemistry</span>
    </a>
</div>

<div class="section-divider"></div>

<!-- TOPIC BUTTON GRID -->
<div class="d-flex justify-content-between align-items-center mb-2">
    <h5 class="mb-0">
        {% if selected_subject == 'physics' %}Physics Topics
        {% elif selected_subject == 'maths' %}Mathematics Topics
        {% else %}Chemistry Topics{% endif %}
    </h5>
    <span class="small text-muted">
        {{ topics|length }} topics
    </span>
</div>

<div class="topic-grid">
    {% for t in topics %}
        <a href="{% url t.url %}" class="topic-pill">
            <span>{{ t.label }}</span>
            <i class="bi bi-arrow-right-short"></i>
        </a>
    {% empty %}
        <p class="text-muted">No topics found.</p>
    {% endfor %}
</div>

{% endblock %}
